{
  "name": "asafarim",
  "version": "1.2.3",
  "packageManager": "yarn@4.9.0",
  "repository": "https://github.com/AliSafari-IT/asafarim.git",
  "private": true,
  "type": "module",
  "author": "Ali Safari <asafarim@gmail.com>",
  "scripts": {
    "preinstall": "npx only-allow yarn",
    "publish": "bash ./publish.sh",
    "exT": "npx kill-port 3008 && cd /var/www/asafarim/ASafariM.Clients/node-terminal && yarn && yarn start & sleep 3 && (gio open http://localhost:3008 || xdg-open http://localhost:3008 || echo 'Open remote terminal manually: http://localhost:3008')",
    "clean": "yarn cache clean && rm -rf node_modules .yarn yarn.lock && bash ./scripts/bash_files/dotnet-commands.sh clean",
    "reinstall": "echo \" ðŸ“¦ Clearing cache and installing dependencies...\" && yarn cache clean --all && yarn clean && yarn install",
    "runAll": "yarn prepare:dev && concurrently \"yarn workspace asafarim-api start\" \"yarn workspace asafarim-ui start\" \"yarn workspace asafarim-blog start\" \"yarn workspace asafarim-bibliography start\"",
    "co": "git add . && python .github/scripts/generate_commit_message.py && git push",
    "reloadBash": "bash ./restart_shell.sh",
    "asafarim-api:publish": "bash -c 'set -e && cd /var/www/asafarim && git pull origin main && sudo rm -rf /var/www/asafarim-api/* && dotnet publish ASafariM.Api/ASafariM.Api.csproj -c Release -o /var/www/asafarim-api && sudo chown -R www-data:www-data /var/www/asafarim-api && sudo chmod -R 755 /var/www/asafarim-api && sudo systemctl restart asafarim-api'",
    "asafarim-ui:publish": "bash -c 'set -e && cd /var/www/asafarim && git pull origin main && yarn workspace asafarim-ui build && sudo rm -rf /var/www/asafarim-com/public_html/* && sudo cp -r /var/www/asafarim/ASafariM.Clients/asafarim-ui/dist/* /var/www/asafarim-com/public_html/ && sudo chown -R www-data:www-data /var/www/asafarim-com/public_html && sudo chmod -R 755 /var/www/asafarim-com/public_html && sudo systemctl restart nginx'",
    "asafarim-bibliography:publish": "bash -c 'set -e && cd /var/www/asafarim && git pull origin main && yarn workspace asafarim-bibliography build && sudo mkdir -p /var/www/asafarim-bibliography && sudo rm -rf /var/www/asafarim-bibliography/* && sudo cp -r /var/www/asafarim/ASafariM.Clients/asafarim-bibliography/dist/* /var/www/asafarim-bibliography/ && sudo chown -R www-data:www-data /var/www/asafarim-bibliography && sudo chmod -R 755 /var/www/asafarim-bibliography && sudo systemctl restart nginx'",
    "asafarim:publish": "yarn asafarim-api:publish && yarn asafarim-ui:publish",
    "restore": "bash ./scripts/bash_files/dotnet-commands.sh restore",
    "build": "bash ./scripts/bash_files/dotnet-commands.sh build",
    "ui": "yarn workspace asafarim-ui start",
    "ui:build": "yarn workspace asafarim-ui build",
    "ui:serve": "yarn workspace asafarim-ui serve",
    "ui:install": "yarn workspace asafarim-ui install",
    "ui:rebuild": "yarn workspace asafarim-ui rebuild",
    "ui:reinstall": "yarn workspace asafarim-ui reinstall",
    "bl": "yarn workspace asafarim-blog start",
    "bl:install": "yarn workspace asafarim-blog install",
    "blb": "yarn workspace asafarim-blog build",
    "bls": "yarn workspace asafarim-blog serve",
    "bib": "yarn workspace asafarim-bibliography start",
    "bib:build": "yarn workspace asafarim-bibliography build",
    "bib:serve": "yarn workspace asafarim-bibliography serve",
    "bib:install": "yarn workspace asafarim-bibliography install",
    "bib:rebuild": "yarn workspace asafarim-bibliography rebuild",
    "bib:reinstall": "yarn workspace asafarim-bibliography reinstall",
    "pbk": "yarn workspace asafarim-pbk start",
    "pbk:build": "yarn workspace asafarim-pbk build",
    "pbk:serve": "yarn workspace asafarim-pbk serve",
    "pbk:install": "yarn workspace asafarim-pbk install",
    "pbk:rebuild": "yarn workspace asafarim-pbk rebuild",
    "pbk:reinstall": "yarn workspace asafarim-pbk reinstall",
    "pbk:test": "yarn workspace asafarim-pbk test",
    "docs:build": "yarn workspace asafarim-docs build",
    "docs:serve": "yarn workspace asafarim-docs serve",
    "api": "yarn prepare:dev && yarn workspace asafarim-api start",
    "api:build": "yarn clean && yarn restore && yarn build && dotnet build -c Release ./ASafariM.Api/ASafariM.Api.csproj",
    "api:run": "dotnet run --project ./ASafariM.Api/ASafariM.Api.csproj",
    "backend": "yarn clean && yarn restore && yarn build && yarn api",
    "backend:build": "yarn clean && yarn restore && yarn build",
    "backend:run": "yarn backend",
    "prepare:dev": "cd ./ASafariM.Api && cp .env.development .env && cp appsettings.Development.json appsettings.json && cp Properties/launchSettings.development.json Properties/launchSettings.json",
    "cleanup:dev": "yarn prepare:dev && yarn clean",
    "dev": "yarn prepare:dev && concurrently \"yarn workspace asafarim-api start\" \"yarn workspace asafarim-ui start\" && yarn cleanup:dev",
    "prepare:env": "cp .env.production .env && cp appsettings.Production.json appsettings.json && cp Properties/launchSettings.production.json Properties/launchSettings.json",
    "app": "concurrently \"yarn backend\" \"yarn ui\"",
    "start": "concurrently \"yarn backend\" \"yarn ui\"",
    "mig": "bash ./scripts/bash_files/dotnet-ef.sh",
    "addMig": "bash ./scripts/bash_files/add-migration.sh",
    "delMig": "dotnet ef migrations remove --project ASafariM.Infrastructure --startup-project ASafariM.Api",
    "test:backend": "dotnet test ASafariM.Test/ASafariM.Test.csproj --logger \"trx;LogFileName=tests/backend/backend_test_results.trx\"",
    "test:frontend": "mkdir -p tests/frontend && TIMESTAMP=$(date +%Y%m%d-%H%M) && node --max-old-space-size=4096 node_modules/vitest/vitest.mjs run --reporter=verbose --reporter=json --outputFile=tests/frontend/all_test_results_$TIMESTAMP.json --no-coverage",
    "test:script": "node ./scripts/test-scripts/verify-tests.js",
    "test:verify": "node ./scripts/test-scripts/verify-tests.js",
    "deploy:if-tests-pass": "yarn test:backend && yarn test:verify && node ./scripts/publish-with-frontend-tests.js",
    "test:frontend:ui": "mkdir -p tests/frontend && TIMESTAMP=$(date +%Y%m%d-%H%M) && yarn workspace asafarim-ui test --reporter=json --outputFile=tests/frontend/ui_test_results_$TIMESTAMP.json",
    "test:frontend:blog": "mkdir -p tests/frontend && TIMESTAMP=$(date +%Y%m%d-%H%M) && cd ASafariM.Clients/asafarim-blog && ../../node_modules/.bin/vitest run --config vitest.config.ts --reporter=json --outputFile=../../tests/frontend/blog_detailed_results_$TIMESTAMP.json",
    "test:frontend:bibliography": "mkdir -p tests/frontend && TIMESTAMP=$(date +%Y%m%d-%H%M) && cd ASafariM.Clients/asafarim-bibliography && ../../node_modules/.bin/vitest run --config vitest.config.ts --reporter=json --outputFile=../../tests/frontend/bibliography_detailed_results_$TIMESTAMP.json",
    "test:all": "mkdir -p tests/backend tests/frontend && yarn test:backend && yarn test:frontend",
    "tbw": "yarn test:backend:watch",
    "test:backend:watch": "cd ASafariM.Test && dotnet watch test --logger \"trx;LogFileName=TestResults/test_results.trx\""
  },
  "workspaces": [
    "ASafariM.Clients/**",
    "asafarim",
    "asafarim-ui",
    "asafarim-blog",
    "asafarim-bibliography",
    "asafarim-pbk",
    "asafarim-terminal",
    "asafarim-api"
  ],
  "dependencies": {
    "lodash": "^4.17.21"
  },
  "devDependencies": {
    "@testing-library/jest-dom": "^6.0.0",
    "@testing-library/react": "^16.2.0",
    "@testing-library/react-hooks": "^8.0.1",
    "@types/jest": "^29.5.14",
    "@vitejs/plugin-react": "^4.3.4",
    "concurrently": "^9.1.2",
    "cross-env": "^7.0.3",
    "jest": "^29.7.0",
    "react-test-renderer": "^19.0.0",
    "ts-jest": "^29.3.0",
    "vite": "^5.0.0",
    "vitest": "^1.0.0"
  }
}
