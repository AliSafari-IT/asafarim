{
  "name": "asafarim",
  "packageManager": "yarn@4.7.0",
  "repository": "https://github.com/AliSafari-IT/asafarim.git",
  "version": "0.1.0",
  "private": true,
  "type": "module",
  "author": "Ali Safari <asafarim@gmail.com>",
  "scripts": {
    "co": "git add . && python .github/scripts/generate_commit_message.py && git push",
    "asafarim-api:publish": "bash -c 'set -e && cd /var/www/asafarim && git pull origin main && sudo rm -rf /var/www/asafarim-api/* && dotnet publish ASafariM.Api/ASafariM.Api.csproj -c Release -o /var/www/asafarim-api && sudo chown -R www-data:www-data /var/www/asafarim-api && sudo chmod -R 755 /var/www/asafarim-api && sudo systemctl restart asafarim-api'",
    "asafarim-ui:publish": "bash -c 'set -e && cd /var/www/asafarim && git pull origin main && yarn workspace asafarim-ui build && sudo rm -rf /var/www/asafarim-com/public_html/* && sudo cp -r /var/www/asafarim/ASafariM.Clients/asafarim-ui/dist/* /var/www/asafarim-com/public_html/ && sudo chown -R www-data:www-data /var/www/asafarim-com/public_html && sudo chmod -R 755 /var/www/asafarim-com/public_html && sudo systemctl restart nginx'",
    "asafarim:publish": "yarn asafarim-api:publish && yarn asafarim-ui:publish",
    "clean": "bash ./scripts/bash_files/dotnet-commands.sh clean",
    "clean_dev": "powershell -File ./scripts/bash_files/dotnet-commands.ps1 clean",
    "restore": "bash ./scripts/bash_files/dotnet-commands.sh restore",
    "restore_dev": "powershell -File ./scripts/bash_files/dotnet-commands.ps1 restore",
    "build": "bash ./scripts/bash_files/dotnet-commands.sh build",
    "build_dev": "powershell -File ./scripts/bash_files/dotnet-commands.ps1 build",
    "ui": "yarn workspace asafarim-ui start",
    "ui:build": "yarn workspace asafarim-ui build",
    "ui:rebuild": "yarn workspace asafarim-ui rebuild",
    "ui:reinstall": "yarn workspace asafarim-ui reinstall",
    "docs:build": "yarn workspace asafarim-docs build",
    "docs:serve": "yarn workspace asafarim-docs serve",
    "ui:serve": "yarn workspace asafarim-ui serve",
    "api": "yarn prepare:dev && yarn workspace asafarim-api start",
    "api:build": "yarn clean && yarn restore && yarn build && dotnet build -c Release ./ASafariM.Api/ASafariM.Api.csproj",
    "api:run": "dotnet run --project ./ASafariM.Api/ASafariM.Api.csproj",
    "backend": "yarn clean && yarn restore && yarn build && yarn api",
    "backend:build": "yarn clean && yarn restore && yarn build",
    "backend:run": "yarn backend",
    "deploy_backend": "bash ./scripts/deploy/deploy_backend_dev.sh",
    "deploy_frontend": "bash ./scripts/deploy/deploy_frontend_dev.sh",
    "deploy": "bash ./deploy_from_server.sh",
    "deployd": "bash ./dynamic_deploy_from_server.sh",
    "publish:frontend": "bash ./local_frontend_publish.sh",
    "publish:backend": "bash ./local_backend_publish.sh",
    "prepare:dev": "cp D:/repos/ASafariM/ASafariM.Api/.env.development D:/repos/ASafariM/ASafariM.Api/.env && cp D:/repos/ASafariM/ASafariM.Api/appsettings.Development.json D:/repos/ASafariM/ASafariM.Api/appsettings.json && cp D:/repos/ASafariM/ASafariM.Api/Properties/launchSettings.development.json D:/repos/ASafariM/ASafariM.Api/Properties/launchSettings.json",
    "cleanup:dev": "yarn prepare:dev && yarn clean",
    "dev": "yarn prepare:dev && concurrently \"yarn workspace asafarim-api start\" \"yarn workspace asafarim-ui start\" && yarn cleanup:dev",
    "prepare:env": "cp D:/repos/ASafariM/ASafariM.Api/.env.production D:/repos/ASafariM/ASafariM.Api/.env && cp D:/repos/ASafariM/ASafariM.Api/appsettings.Production.json D:/repos/ASafariM/ASafariM.Api/appsettings.json && cp D:/repos/ASafariM/ASafariM.Api/Properties/launchSettings.production.json D:/repos/ASafariM/ASafariM.Api/Properties/launchSettings.json",
    "publish": "node scripts/deploy/publish.js",
    "publish:all": "yarn prepare:env && yarn publish:backend && yarn publish:frontend",
    "app": "concurrently \"yarn backend\" \"yarn ui\"",
    "start": "concurrently \"yarn backend\" \"yarn ui\"",
    "remote:publish:backend": "sudo rm -rf /var/www/asafarim/backend/* && cd /var/www/asafarim/ASafariM.Api && dotnet publish -c Release -o /var/www/asafarim/backend && sudo chown -R www-data:www-data /var/www/asafarim/backend && sudo chmod -R 755 /var/www/asafarim/backend && sudo systemctl restart asafarim-api",
    "remote:publish:frontend": "sudo rm -rf /var/www/asafarim.com/public_html/* && cd /var/www/asafarim/ASafariM.Clients/asafarim-ui && yarn install && yarn build && sudo cp -r dist/* /var/www/asafarim.com/public_html/ && sudo chown -R www-data:www-data /var/www/asafarim.com/public_html && sudo chmod -R 755 /var/www/asafarim.com/public_html",
    "mig": "bash ./scripts/bash_files/dotnet-ef.sh",
    "mig_dev": "powershell -File ./scripts/bash_files/dotnet-ef.ps1",
    "test:backend": "dotnet test D:/repos/ASafariM/ASafariM.Test/ASafariM.Test.csproj --logger \"trx;LogFileName=D:/repos/ASafariM/ASafariM.Test/TestResults/test_results.trx\"",
    "test:backend:watch": "cd D:/repos/ASafariM/ASafariM.Test && dotnet watch test --logger \"trx;LogFileName=D:/repos/ASafariM/ASafariM.Test/TestResults/test_results.trx\"",
    "stop": "npx kill-port 3000 && npx kill-port 5000",
    "tbw": "yarn test:backend:watch",
    "test:frontend": "vitest run",
    "test": "vitest",
    "coverage": "vitest run --coverage",
    "test:all": "yarn test:backend && yarn test:frontend"
  },
  "workspaces": [
    "asafarim",
    "asafarim-ui",
    "asafarim-api",
    "ASafariM.Api",
    "ASafariM.Clients/asafarim-ui"
  ],
  "dependencies": {
    "lodash": "^4.17.21"
  },
  "devDependencies": {
    "concurrently": "^9.1.2"
  }
}
